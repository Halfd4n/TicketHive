@page "/"
@using TicketHive.Client.Services;
@using TicketHive.Shared.Models;
@inject NavigationManager navigationManager
@inject IUserService userService
@inject IEventService eventService

<PageTitle>Index</PageTitle>

<div class="credentials-page d-flex flex-column justify-items-center align-items-center">
<h1>Hello, world!</h1>

<p>Already a member..?</p>
<button @onclick="Login">Login</button>

<p>Else, please register here:</p>
<button @onclick="Register">Register</button>

</div>

@if (userModel != null)
{
	<p>@userModel.Username</p>

}
@if (userModel == null)
{
	<p>userModel is null :-(</p>
}

@if (eventModel != null)
{
	<p>@eventModel.Name</p>
}
@if (eventModel == null)
{
	<p>eventModel is null :-(</p>
}

@code {
	private UserModel? userModel = new();
	private EventModel? eventModel = new();

	protected override async Task OnInitializedAsync()
	{
		// USERS (get user, update password, update country, delete user)
		userModel = await userService.GetUserByIdAsync("30c15e1b-0dc8-482d-8582-9664841823b5");

		// EVENTS (one event, all events, add event, delete event, bonus: update event)
		eventModel = await eventService.GetOneEventAsync(3);
	}
}